<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="C++ 编码风格 #  这是基于 Google 发布的 C++ 编程风格指南整理的，每一项规则的详细的阐述可以参见 官方的原版指南或者 中文版。
注意：这份指南只是提供了一份通用的编程规范，当你的项目已有自己的约定则优先遵守项目的约定！
头文件 #  通常一个一个 .cc 对应一个 .h，但也有一些常见的例外，例如单元测试代码只有 .cc 文件和 main() 函数。
Self-contained 头文件 #   头文件，以 .h 结尾;  用于插入文本的文件，以 .inc 结尾; 模板或内联函数的定义不要放到 -inl.h 文件中; 不建议从 .h 中分离出 -inl.h 文件;    #define 保护 #  所有头文件都应该使用 #define 来防止头文件被多重包含, 命名格式当是: <PROJECT>_<PATH>_<FILE>_H_（路径是从项目的源代码树的根路径开始）。
前置声明 #  尽可能地避免使用前置声明。使用 #include 包含需要的头文件即可。
 尽量避免前置声明那些定义在其他项目中的实体;  函数：总是使用 #include; 类模板：优先使用 #include;    内联函数 #   不要内联超过 10 行的函数;  不要内联包含循环或 switch 语句的函数; 虚函数和递归函数不应该声明成内联;    #include 的路径及顺序 #   避免使用特殊的快捷目录 ."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="C++ 编码风格 #  这是基于 Google 发布的 C++ 编程风格指南整理的，每一项规则的详细的阐述可以参见 官方的原版指南或者 中文版。
注意：这份指南只是提供了一份通用的编程规范，当你的项目已有自己的约定则优先遵守项目的约定！
头文件 #  通常一个一个 .cc 对应一个 .h，但也有一些常见的例外，例如单元测试代码只有 .cc 文件和 main() 函数。
Self-contained 头文件 #   头文件，以 .h 结尾;  用于插入文本的文件，以 .inc 结尾; 模板或内联函数的定义不要放到 -inl.h 文件中; 不建议从 .h 中分离出 -inl.h 文件;    #define 保护 #  所有头文件都应该使用 #define 来防止头文件被多重包含, 命名格式当是: <PROJECT>_<PATH>_<FILE>_H_（路径是从项目的源代码树的根路径开始）。
前置声明 #  尽可能地避免使用前置声明。使用 #include 包含需要的头文件即可。
 尽量避免前置声明那些定义在其他项目中的实体;  函数：总是使用 #include; 类模板：优先使用 #include;    内联函数 #   不要内联超过 10 行的函数;  不要内联包含循环或 switch 语句的函数; 虚函数和递归函数不应该声明成内联;    #include 的路径及顺序 #   避免使用特殊的快捷目录 ."><meta property="og:type" content="article"><meta property="og:url" content="https://coderqs.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/%E7%BC%96%E7%A0%81%E8%A7%84%E5%88%99/cpp%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC/"><meta property="article:section" content="计算机语言"><title>Cpp编码风格 | 清松的笔记本</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/zh.search.min.ee8ef98ede123a11931c3c2f0cbe19b36c0f96907fd195d0210fea5e53d6854c.js integrity="sha256-7o75jt4SOhGTHDwvDL4Zs2wPlpB/0ZXQIQ/qXlPWhUw=" crossorigin=anonymous></script>
<script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>清松的笔记本</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>计算机语言</span><ul><li><input type=checkbox id=section-2f82c9a464154d0b6f9ef4350045ad73 class=toggle>
<label for=section-2f82c9a464154d0b6f9ef4350045ad73 class="flex justify-between"><a role=button>程序语言</a></label><ul><li><input type=checkbox id=section-e836dff9c83488818449aee75c856312 class=toggle>
<label for=section-e836dff9c83488818449aee75c856312 class="flex justify-between"><a role=button>C/C++</a></label><ul><li><input type=checkbox id=section-d7374e89f91838a29dae7b678f7a5cd4 class=toggle>
<label for=section-d7374e89f91838a29dae7b678f7a5cd4 class="flex justify-between"><a role=button>错误归纳</a></label><ul><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/c_cpp/%E9%94%99%E8%AF%AF%E5%BD%92%E7%BA%B3/%E7%BC%96%E8%AF%91%E7%9B%B8%E5%85%B3/>编译相关</a></li></ul></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/c_cpp/errno%E9%94%99%E8%AF%AF%E7%A0%81%E8%AF%B4%E6%98%8E/>Errno错误码说明</a></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/c_cpp/gnu%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E6%8D%A2%E5%90%8D%E8%A7%84%E5%88%99/>Gnu编译器的换名规则</a></li></ul></li><li><input type=checkbox id=section-b8e9d96121b5e9e60c842a3fa142f823 class=toggle>
<label for=section-b8e9d96121b5e9e60c842a3fa142f823 class="flex justify-between"><a role=button>Python</a></label><ul><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/python/%E5%86%85%E7%BD%AE%E9%94%99%E8%AF%AF%E9%9B%86%E5%90%88/>内置错误集合</a></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/python/%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/>编译安装部署</a></li></ul></li></ul></li><li><input type=checkbox id=section-2e7f3c3588f394052f0fcd5efe0b572d class=toggle>
<label for=section-2e7f3c3588f394052f0fcd5efe0b572d class="flex justify-between"><a role=button>标记语言</a></label><ul><li><input type=checkbox id=section-8fffc0f9d7346ade2d1532a9179e4ded class=toggle>
<label for=section-8fffc0f9d7346ade2d1532a9179e4ded class="flex justify-between"><a role=button>Markdown</a></label><ul><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/markdown/%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/>基本语法</a></li></ul></li></ul></li><li><input type=checkbox id=section-a6ba3c42595f40ff305c3faaae9f50c9 class=toggle>
<label for=section-a6ba3c42595f40ff305c3faaae9f50c9 class="flex justify-between"><a role=button>特定领域语言</a></label><ul><li><input type=checkbox id=section-88138f2caada9cd9950189a9fcab06ae class=toggle>
<label for=section-88138f2caada9cd9950189a9fcab06ae class="flex justify-between"><a role=button>Shell</a></label><ul><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E7%89%B9%E5%AE%9A%E9%A2%86%E5%9F%9F%E8%AF%AD%E8%A8%80/shell/shell%E7%9A%84%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/>Shell的基础语法</a></li></ul></li></ul></li><li><input type=checkbox id=section-cff251d36dd3b7c3bba70302ac8ea3f1 class=toggle checked>
<label for=section-cff251d36dd3b7c3bba70302ac8ea3f1 class="flex justify-between"><a role=button>技术归纳</a></label><ul><li><input type=checkbox id=section-952588e98bd49eab33d1ed8c445041aa class=toggle checked>
<label for=section-952588e98bd49eab33d1ed8c445041aa class="flex justify-between"><a role=button>编码规则</a></label><ul><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/%E7%BC%96%E7%A0%81%E8%A7%84%E5%88%99/cpp%E6%B3%A8%E9%87%8A%E9%A3%8E%E6%A0%BC/>Cpp注释风格</a></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/%E7%BC%96%E7%A0%81%E8%A7%84%E5%88%99/cpp%E7%BC%96%E7%A0%81%E9%A3%8E%E6%A0%BC/ class=active>Cpp编码风格</a></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/%E7%BC%96%E7%A0%81%E8%A7%84%E5%88%99/%E5%B7%A5%E7%A8%8B%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/>工程目录结构</a></li></ul></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E8%A7%84%E8%8C%83/>单元测试规范</a></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/%E7%89%88%E6%9C%AC%E5%8F%B7%E7%9A%84%E7%AE%A1%E7%90%86/>版本号的管理</a></li><li><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80/%E6%8A%80%E6%9C%AF%E5%BD%92%E7%BA%B3/%E7%BC%96%E8%AF%91%E6%9C%BA%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/>编译机环境管理方法</a></li></ul></li></ul></li><li><span>框架/库</span><ul><li><a href=/%E6%A1%86%E6%9E%B6_%E5%BA%93/jsoncpp%E7%9A%84%E4%BD%BF%E7%94%A8/>Jsoncpp的使用</a></li></ul></li><li><span>操作系统</span><ul><li><input type=checkbox id=section-2b529531ed5b88a2a39fe109a71784e2 class=toggle>
<label for=section-2b529531ed5b88a2a39fe109a71784e2 class="flex justify-between"><a role=button>Linux</a></label><ul><li><input type=checkbox id=section-108d1ece1680a4670ee74b3855e237a2 class=toggle>
<label for=section-108d1ece1680a4670ee74b3855e237a2 class="flex justify-between"><a role=button>故障排除</a></label><ul><li><input type=checkbox id=section-81d3a28b1552a0aece54edf98bbb0d06 class=toggle>
<label for=section-81d3a28b1552a0aece54edf98bbb0d06 class="flex justify-between"><a role=button>故障记录</a></label><ul><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/%E6%95%85%E9%9A%9C%E8%AE%B0%E5%BD%95/linux%E8%84%9A%E6%9C%AC%E8%87%AA%E5%B7%B1%E5%8F%AF%E4%BB%A5%E5%8D%95%E7%8B%AC%E6%89%A7%E8%A1%8C%E4%BD%86%E5%9C%A8service%E6%96%87%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%B0%B1%E9%94%99%E8%AF%AF/>Linux脚本自己可以单独执行但在service文件中使用就错误</a></li></ul></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/%E7%94%A8%E6%88%B7%E7%9B%B8%E5%85%B3/>Linux 下的问题及解决方法 - 用户相关"</a></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3/>Linux 下的问题及解决方法 - 系统相关</a></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/shell%E7%9B%B8%E5%85%B3/>Shell 脚本相关的问题的解决方法</a></li></ul></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/centos7%E6%8C%82%E8%BD%BDwindows%E7%9A%84%E5%85%B1%E4%BA%AB%E7%9B%AE%E5%BD%95/>Centos7挂载windows的共享目录</a></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/firewalld%E7%9A%84%E8%A7%84%E5%88%99%E9%85%8D%E7%BD%AE/>Firewalld的规则配置</a></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/mailx%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/>Mailx安装与使用</a></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E5%8D%87%E7%BA%A7gcc/>升级gcc</a></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E6%9F%A5%E7%9C%8B%E5%BA%93%E7%9A%84%E7%AC%A6%E5%8F%B7/>查看库的符号</a></li><li><a href=/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E6%97%B6%E5%8C%BA/>设置系统时区</a></li></ul></li><li><input type=checkbox id=section-5e6f2b4bb314c127d413b296515fdd8c class=toggle>
<label for=section-5e6f2b4bb314c127d413b296515fdd8c class="flex justify-between"><a role=button>Windows</a></label><ul></ul></li></ul></li><li><span>网络</span><ul><li><input type=checkbox id=section-2cf97dea5033e59a7b4a4be6f95f3398 class=toggle>
<label for=section-2cf97dea5033e59a7b4a4be6f95f3398 class="flex justify-between"><a role=button>科学上网</a></label><ul><li><input type=checkbox id=section-839965107977bc2c3d2afd1daf96a2d0 class=toggle>
<label for=section-839965107977bc2c3d2afd1daf96a2d0 class="flex justify-between"><a role=button>V2ray</a></label><ul><li><a href=/%E7%BD%91%E7%BB%9C/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/v2ray/v2ray%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/>V2ray安装与配置</a></li></ul></li></ul></li><li><a href=/%E7%BD%91%E7%BB%9C/%E4%BD%BF%E7%94%A8cloudflare%E5%90%8E%E6%97%A0%E9%99%90%E8%B7%B3%E8%BD%AC/>使用cloudflare后无限跳转</a></li></ul></li><li><span>工具</span><ul><li><input type=checkbox id=section-3d78c992a87827d64eb295489bd2db1c class=toggle>
<label for=section-3d78c992a87827d64eb295489bd2db1c class="flex justify-between"><a role=button>其他</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96/let_s_encrypt%E5%85%8D%E8%B4%B9ssl%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E4%B8%8E%E7%BB%AD%E6%9C%9F/>Let's Encrypt 免费 SSL 证书申请与续期</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96/openssl%E8%87%AA%E7%AD%BE%E8%AF%81%E4%B9%A6/>OpenSSL 自签证书</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96/pandoc/>Pandoc</a></li></ul></li><li><input type=checkbox id=section-9dfdebc505554440c767a5b682c855ce class=toggle>
<label for=section-9dfdebc505554440c767a5b682c855ce class="flex justify-between"><a role=button>技巧</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E6%8A%80%E5%B7%A7/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%9A%84%E4%BD%BF%E7%94%A8/>搜索引擎的使用</a></li></ul></li><li><input type=checkbox id=section-9a2fb410fd8d9f919ffc31fa496219d1 class=toggle>
<label for=section-9a2fb410fd8d9f919ffc31fa496219d1 class="flex justify-between"><a role=button>服务</a></label><ul><li><input type=checkbox id=section-3f692b2133bf1d1748a9d3dc08bf694f class=toggle>
<label for=section-3f692b2133bf1d1748a9d3dc08bf694f class="flex justify-between"><a role=button>Dokuwiki</a></label><ul><li><input type=checkbox id=section-462d161a32bf5806953d010d9a4163ad class=toggle>
<label for=section-462d161a32bf5806953d010d9a4163ad class="flex justify-between"><a role=button>插件与主题</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/dokuwiki/%E6%8F%92%E4%BB%B6%E4%B8%8E%E4%B8%BB%E9%A2%98/indexmenu/>Indexmenu</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/dokuwiki/%E6%8F%92%E4%BB%B6%E4%B8%8E%E4%B8%BB%E9%A2%98/start/>Start</a></li></ul></li><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/dokuwiki/%E4%B8%AA%E6%80%A7%E5%8C%96%E7%9A%84%E8%AE%BE%E7%BD%AE/>个性化的设置</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/dokuwiki/%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2/>安装与部署</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/dokuwiki/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/>常见问题</a></li></ul></li><li><input type=checkbox id=section-47d8930e69ae535636dece725656ff1e class=toggle>
<label for=section-47d8930e69ae535636dece725656ff1e class="flex justify-between"><a role=button>Mediasoup</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/mediasoup/mediasoup%E7%9A%84%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/>Mediasoup的安装部署</a></li></ul></li><li><input type=checkbox id=section-8df66e3eaba8973ba13037e4fcb7e550 class=toggle>
<label for=section-8df66e3eaba8973ba13037e4fcb7e550 class="flex justify-between"><a role=button>Nginx</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/nginx/%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2/>安装与部署</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/nginx/%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/>常用配置</a></li></ul></li><li><input type=checkbox id=section-5fd3842bb784a7449cf8115d14cf109c class=toggle>
<label for=section-5fd3842bb784a7449cf8115d14cf109c class="flex justify-between"><a role=button>Prometheus</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E6%9C%8D%E5%8A%A1/prometheus/%E9%83%A8%E7%BD%B2%E4%B8%8E%E4%BD%BF%E7%94%A8/>部署与使用</a></li></ul></li></ul></li><li><input type=checkbox id=section-6b54dee5f1755981947a8ab64176a2be class=toggle>
<label for=section-6b54dee5f1755981947a8ab64176a2be class="flex justify-between"><a role=button>编程工具</a></label><ul><li><input type=checkbox id=section-b47403f2e94f801b4047e60cdc178689 class=toggle>
<label for=section-b47403f2e94f801b4047e60cdc178689 class="flex justify-between"><a role=button>版本控制</a></label><ul><li><input type=checkbox id=section-ef6b9ef0d5d1f40e728f9c143b0c98cf class=toggle>
<label for=section-ef6b9ef0d5d1f40e728f9c143b0c98cf class="flex justify-between"><a role=button>Git</a></label><ul><li><input type=checkbox id=section-7a4d2d18d20c0dec5d550a7ad5a6b518 class=toggle>
<label for=section-7a4d2d18d20c0dec5d550a7ad5a6b518 class="flex justify-between"><a role=button>衍生品</a></label><ul><li><input type=checkbox id=section-e8825c84f4af75998930839655eaab29 class=toggle>
<label for=section-e8825c84f4af75998930839655eaab29 class="flex justify-between"><a role=button>Gitea</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/git/%E8%A1%8D%E7%94%9F%E5%93%81/gitea/%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2/>安装与部署</a></li></ul></li><li><input type=checkbox id=section-3056c08efdbff0ea0503a087aee02ba7 class=toggle>
<label for=section-3056c08efdbff0ea0503a087aee02ba7 class="flex justify-between"><a role=button>Github</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/git/%E8%A1%8D%E7%94%9F%E5%93%81/github/%E6%96%B0%E7%94%A8%E6%B3%95/>新用法</a></li></ul></li></ul></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/git/%E5%88%9B%E5%BB%BA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/>创建远程仓库</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/git/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/>常用命令</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/git/%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/>编译安装</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/git/%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86/>配置代理</a></li></ul></li><li><input type=checkbox id=section-339d86294466887009c1748fb9f4af0d class=toggle>
<label for=section-339d86294466887009c1748fb9f4af0d class="flex justify-between"><a role=button>Svn</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/svn/%E5%BF%BD%E7%95%A5%E6%8C%87%E5%AE%9A%E7%9A%84%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95/>忽略指定的文件或目录</a></li></ul></li></ul></li><li><input type=checkbox id=section-9ee0806047a6bb136298233ba3fd1198 class=toggle>
<label for=section-9ee0806047a6bb136298233ba3fd1198 class="flex justify-between"><a role=button>编译工具</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7/cmake/%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85/>介绍与安装</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7/cmake/%E7%94%9F%E6%88%90xcode%E5%B7%A5%E7%A8%8B/>生成xcode工程</a></li></ul></li><li><input type=checkbox id=section-a530a1a4210b9051fb1b003beaabad61 class=toggle>
<label for=section-a530a1a4210b9051fb1b003beaabad61 class="flex justify-between"><a role=button>调试工具</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/adb%E7%9A%84%E4%BD%BF%E7%94%A8/>Adb的使用</a></li></ul></li><li><input type=checkbox id=section-17bf7f233db9bc5000a3da309fb639c8 class=toggle>
<label for=section-17bf7f233db9bc5000a3da309fb639c8 class="flex justify-between"><a role=button>静态代码检测</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E9%9D%99%E6%80%81%E4%BB%A3%E7%A0%81%E6%A3%80%E6%B5%8B/clang-tidy/>Clang Tidy</a></li></ul></li><li><input type=checkbox id=section-7f718606dc39a366a3c5884e6a68ca83 class=toggle>
<label for=section-7f718606dc39a366a3c5884e6a68ca83 class="flex justify-between"><a role=button>CI/CD</a></label><ul><li><input type=checkbox id=section-18408f57ecd043e087ce3f4fdb2789d1 class=toggle>
<label for=section-18408f57ecd043e087ce3f4fdb2789d1 class="flex justify-between"><a role=button>Jenkins</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/ci_cd/jenkins/jenkins%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%83%A8%E7%BD%B2/>Jenkins的安装与部署</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/ci_cd/jenkins/jenkins%E9%85%8D%E7%BD%AEsvn%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E7%8E%AF%E5%A2%83/>Jenkins配置svn持续集成环境</a></li></ul></li></ul></li><li><input type=checkbox id=section-4631125843a80e169b743fe08e2fbe3f class=toggle>
<label for=section-4631125843a80e169b743fe08e2fbe3f class="flex justify-between"><a role=button>IDE</a></label><ul><li><input type=checkbox id=section-871ab1b852de9047f42e8dedb8f72f4e class=toggle>
<label for=section-871ab1b852de9047f42e8dedb8f72f4e class="flex justify-between"><a role=button>Visual Studio</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/ide/visual_studio/cpp%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E9%85%8D%E7%BD%AE%E4%BB%8B%E7%BB%8D/>Cpp项目中的一些配置介绍</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/ide/visual_studio/visual_studio%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD/>Visual Studio的一些实用功能</a></li></ul></li><li><input type=checkbox id=section-1a38aa0d2360a2abcf1db3e1e6bdf838 class=toggle>
<label for=section-1a38aa0d2360a2abcf1db3e1e6bdf838 class="flex justify-between"><a role=button>VSCode</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/ide/vscode/%E6%8F%92%E4%BB%B6remote_ssh%E7%9A%84%E4%BD%BF%E7%94%A8/>插件remote Ssh的使用</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/ide/vscode/%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/>设置用户代码片段</a></li></ul></li></ul></li></ul></li><li><input type=checkbox id=section-199cd361b7acb9c4b7e0acac9f128dfc class=toggle>
<label for=section-199cd361b7acb9c4b7e0acac9f128dfc class="flex justify-between"><a role=button>网络工具</a></label><ul><li><input type=checkbox id=section-af5fe744a868ddafeb4bc6e6c61b10f9 class=toggle>
<label for=section-af5fe744a868ddafeb4bc6e6c61b10f9 class="flex justify-between"><a role=button>Wireshark</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7/wireshark/%E5%B8%B8%E7%94%A8%E8%BF%87%E6%BB%A4%E6%9D%A1%E4%BB%B6/>Wireshark 常用过滤条件</a></li><li><a href=/%E5%B7%A5%E5%85%B7/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7/wireshark/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/>Wireshark 遇见的问题的解决办法</a></li></ul></li></ul></li><li><input type=checkbox id=section-c69fc995f6425f1074d8ae64ce959c17 class=toggle>
<label for=section-c69fc995f6425f1074d8ae64ce959c17 class="flex justify-between"><a role=button>虚拟机</a></label><ul><li><input type=checkbox id=section-6690855cc45b11e620ce8c67a5fb62fb class=toggle>
<label for=section-6690855cc45b11e620ce8c67a5fb62fb class="flex justify-between"><a role=button>Vmware</a></label><ul><li><a href=/%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E6%9C%BA/vmware/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/>VMware 遇见的问题及解决方法</a></li></ul></li></ul></li></ul></li><li><span>设备</span><ul><li><input type=checkbox id=section-a1abdcaab6c4668c7ce52ea5a3e37013 class=toggle>
<label for=section-a1abdcaab6c4668c7ce52ea5a3e37013 class="flex justify-between"><a role=button>树莓派</a></label><ul><li><a href=/%E8%AE%BE%E5%A4%87/%E6%A0%91%E8%8E%93%E6%B4%BE/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/>故障排除</a></li><li><a href=/%E8%AE%BE%E5%A4%87/%E6%A0%91%E8%8E%93%E6%B4%BE/%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%83%A7%E5%BD%95/>系统的烧录</a></li></ul></li><li><input type=checkbox id=section-efee4cd7fc6d13515117342cc409f41e class=toggle>
<label for=section-efee4cd7fc6d13515117342cc409f41e class="flex justify-between"><a role=button>路由器</a></label><ul><li><a href=/%E8%AE%BE%E5%A4%87/%E8%B7%AF%E7%94%B1%E5%99%A8/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8_mini_%E5%88%B7_openwrt/>小米路由器 Mini 刷 Openwrt</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Cpp编码风格</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#c-编码风格>C++ 编码风格</a><ul><li><a href=#头文件>头文件</a><ul><li><a href=#self-contained-头文件>Self-contained 头文件</a></li><li><a href=#define-保护>#define 保护</a></li><li><a href=#前置声明>前置声明</a></li><li><a href=#内联函数>内联函数</a></li><li><a href=#include-的路径及顺序>#include 的路径及顺序</a></li></ul></li><li><a href=#作用域>作用域</a><ul><li><a href=#命名空间>命名空间</a></li><li><a href=#匿名命名空间和静态变量>匿名命名空间和静态变量</a></li><li><a href=#非成员函数静态成员函数和全局函数>非成员函数、静态成员函数和全局函数</a></li></ul></li><li><a href=#尽量不要用裸的全局函数使用静态成员函数或命名空间内的非成员函数>尽量不要用裸的全局函数，使用静态成员函数或命名空间内的非成员函数;</a><ul><li><a href=#局部变量>局部变量</a></li><li><a href=#静态和全局变量>静态和全局变量</a></li></ul></li><li><a href=#类>类</a><ul><li><a href=#构造函数的职责>构造函数的职责</a></li><li><a href=#隐式类型转换>隐式类型转换</a></li><li><a href=#可拷贝类型和可移动类型>可拷贝类型和可移动类型</a></li></ul></li><li><a href=#如果类型的拷贝操作不是显而易见的就不要设置为可拷贝>如果类型的拷贝操作不是显而易见的，就不要设置为可拷贝;</a><ul><li><a href=#结构体-vs-类>结构体 VS 类</a></li><li><a href=#继承>继承</a></li></ul></li><li><a href=#函数>函数</a><ul><li><a href=#参数顺序>参数顺序</a></li><li><a href=#编写简短的函数>编写简短的函数</a></li><li><a href=#引用参数>引用参数</a></li><li><a href=#函数重载>函数重载</a></li><li><a href=#缺省参数>缺省参数</a></li></ul></li><li><a href=#虚函数不允许使用缺省参数>虚函数不允许使用缺省参数;</a><ul><li><a href=#函数返回类型后置语法>函数返回类型后置语法</a></li></ul></li><li><a href=#来自-google-的奇技>来自 Google 的奇技</a><ul><li><a href=#所有权与智能指针>所有权与智能指针</a></li><li><a href=#cpplint>Cpplint</a></li></ul></li><li><a href=#命名约定>命名约定</a><ul><li><a href=#通用命名规则>通用命名规则</a></li><li><a href=#文件名>文件名</a></li><li><a href=#类型命名>类型命名</a></li><li><a href=#变量命名>变量命名</a></li><li><a href=#常量命名>常量命名</a></li><li><a href=#函数命名>函数命名</a></li><li><a href=#名字空间命名>名字空间命名</a></li><li><a href=#枚举命名>枚举命名</a></li><li><a href=#宏命名>宏命名</a></li><li><a href=#命名规则的特例>命名规则的特例</a></li></ul></li><li><a href=#注释>注释</a><ul><li><a href=#注释风格>注释风格</a></li><li><a href=#文件注释>文件注释</a></li><li><a href=#类注释>类注释</a></li><li><a href=#函数注释>函数注释</a></li><li><a href=#变量注释>变量注释</a></li><li><a href=#实现注释>实现注释</a></li><li><a href=#标点-拼写和语法>标点, 拼写和语法</a></li><li><a href=#todo-注释>TODO 注释</a></li><li><a href=#弃用注释>弃用注释</a></li><li><a href=#行长度>行长度</a></li><li><a href=#非-ascii-字符>非 ASCII 字符</a></li><li><a href=#空格还是制表位>空格还是制表位</a></li><li><a href=#函数声明与定义>函数声明与定义</a></li><li><a href=#lambda-表达式>Lambda 表达式</a></li><li><a href=#函数调用>函数调用</a></li></ul></li><li><a href=#比如把多个参数适当地放在同一行里>要么一行写完函数调用, 要么在圆括号里对参数分行,
要么参数另起一行且缩进四格. 如果没有其它顾虑的话, 尽可能精简行数,
比如把多个参数适当地放在同一行里;</a><ul><li><a href=#列表初始化格式>列表初始化格式</a></li><li><a href=#条件语句>条件语句</a></li><li><a href=#循环和开关选择语句>循环和开关选择语句</a></li><li><a href=#指针和引用表达式>指针和引用表达式</a></li><li><a href=#布尔表达式>布尔表达式</a></li><li><a href=#函数返回值>函数返回值</a></li><li><a href=#变量及数组初始化>变量及数组初始化</a></li><li><a href=#预处理指令>预处理指令</a></li><li><a href=#类格式>类格式</a></li><li><a href=#构造函数初始值列表>构造函数初始值列表</a></li><li><a href=#命名空间格式化>命名空间格式化</a></li><li><a href=#水平留白>水平留白</a></li><li><a href=#垂直留白>垂直留白</a></li></ul></li><li><a href=#规则特例>规则特例</a><ul><li><a href=#现有不合规范的代码>现有不合规范的代码</a></li><li><a href=#windows-代码>Windows 代码</a></li></ul></li></ul></li><li><a href=#参考资料>参考资料</a></li></ul></nav></aside></header><article class=markdown><h1 id=c-编码风格>C++ 编码风格
<a class=anchor href=#c-%e7%bc%96%e7%a0%81%e9%a3%8e%e6%a0%bc>#</a></h1><p>这是基于 Google 发布的 C++
编程风格指南整理的，每一项规则的详细的阐述可以参见
<a href=https://google.github.io/styleguide/cppguide.html>官方的原版指南</a>或者
<a href=https://google-styleguide.readthedocs.io/zh_CN/latest/google-cpp-styleguide/index.html>中文版</a>。<br><strong>注意：这份指南只是提供了一份通用的编程规范，当你的项目已有自己的约定则优先遵守项目的约定！</strong></p><h2 id=头文件>头文件
<a class=anchor href=#%e5%a4%b4%e6%96%87%e4%bb%b6>#</a></h2><p>通常一个一个 <code>.cc</code> 对应一个
<code>.h</code>，但也有一些常见的例外，例如单元测试代码只有 <code>.cc</code> 文件和 <code>main()</code>
函数。</p><h3 id=self-contained-头文件>Self-contained 头文件
<a class=anchor href=#self-contained-%e5%a4%b4%e6%96%87%e4%bb%b6>#</a></h3><ol><li>头文件，以 <code>.h</code> 结尾;<ul><li>用于插入文本的文件，以 <code>.inc</code> 结尾;</li><li>模板或内联函数的定义不要放到 <code>-inl.h</code> 文件中;</li><li>不建议从 <code>.h</code> 中分离出 <code>-inl.h</code> 文件;</li></ul></li></ol><h3 id=define-保护>#define 保护
<a class=anchor href=#define-%e4%bf%9d%e6%8a%a4>#</a></h3><p>所有头文件都应该使用 <code>#define</code> 来防止头文件被多重包含, 命名格式当是:
<code>&lt;PROJECT>_&lt;PATH>_&lt;FILE>_H_</code>（路径是从项目的源代码树的根路径开始）。</p><h3 id=前置声明>前置声明
<a class=anchor href=#%e5%89%8d%e7%bd%ae%e5%a3%b0%e6%98%8e>#</a></h3><p>尽可能地避免使用前置声明。使用 <code>#include</code> 包含需要的头文件即可。</p><ol><li>尽量避免前置声明那些定义在其他项目中的实体;<ul><li>函数：总是使用 <code>#include</code>;</li><li>类模板：优先使用 <code>#include</code>;</li></ul></li></ol><h3 id=内联函数>内联函数
<a class=anchor href=#%e5%86%85%e8%81%94%e5%87%bd%e6%95%b0>#</a></h3><ol><li>不要内联超过 10 行的函数;<ul><li>不要内联包含循环或 <code>switch</code> 语句的函数;</li><li>虚函数和递归函数不应该声明成内联;</li></ul></li></ol><h3 id=include-的路径及顺序>#include 的路径及顺序
<a class=anchor href=#include-%e7%9a%84%e8%b7%af%e5%be%84%e5%8f%8a%e9%a1%ba%e5%ba%8f>#</a></h3><ol><li>避免使用特殊的快捷目录 <code>.</code> 和 <code>..</code>;<ul><li>项目内头文件应按照项目源代码目录树结构排列;</li><li>头文件的包含顺序如下：</li></ul><ol><li><code>.cc</code> 文件对应的头文件（优先位置）</li><li>C 系统文件</li><li>C++ 系统文件</li><li>第三方库 <code>.h</code> 文件</li><li>本项目内 <code>.h</code> 文件</li></ol></li><li>以空行分割以上不同类别的 <code>#include</code> 语句</li><li><strong>例外</strong>：平台特定代码需要进行条件编译，这些可以放到其他的
<code>#include</code> 之后</li></ol><h2 id=作用域>作用域
<a class=anchor href=#%e4%bd%9c%e7%94%a8%e5%9f%9f>#</a></h2><h3 id=命名空间>命名空间
<a class=anchor href=#%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4>#</a></h3><ol><li>命名空间的最后(右括号)注释出名字空间的名字;<ul><li>不要在命名空间 <code>std</code> 内声明任何东西, 包括标准库的类前置声明;</li><li>不要在头文件中使用<strong>命名空间别名</strong>除非显式标记内部命名空间使用;</li><li>禁止使用 <code>using</code> 指令引入其他空间的符号;</li><li>禁止使用内联命名空间;</li></ul></li></ol><h3 id=匿名命名空间和静态变量>匿名命名空间和静态变量
<a class=anchor href=#%e5%8c%bf%e5%90%8d%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e5%92%8c%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f>#</a></h3><ol><li>推荐、鼓励在 <code>.cc</code>
中对于不需要在其他地方引用的标识符使用内部链接性声明，但是不要在
<code>.h</code> 中使用;<ul><li>匿名命名空间的声明和具名的格式相同，在最后注释上 <code>namespace</code>;</li></ul></li></ol><h3 id=非成员函数静态成员函数和全局函数>非成员函数、静态成员函数和全局函数
<a class=anchor href=#%e9%9d%9e%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0%e9%9d%99%e6%80%81%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0%e5%92%8c%e5%85%a8%e5%b1%80%e5%87%bd%e6%95%b0>#</a></h3><ol><li><h2 id=尽量不要用裸的全局函数使用静态成员函数或命名空间内的非成员函数>尽量不要用裸的全局函数，使用静态成员函数或命名空间内的非成员函数;
<a class=anchor href=#%e5%b0%bd%e9%87%8f%e4%b8%8d%e8%a6%81%e7%94%a8%e8%a3%b8%e7%9a%84%e5%85%a8%e5%b1%80%e5%87%bd%e6%95%b0%e4%bd%bf%e7%94%a8%e9%9d%99%e6%80%81%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0%e6%88%96%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e5%86%85%e7%9a%84%e9%9d%9e%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0>#</a></h2>将一系列函数直接置于命名空间中，不要用类的静态方法模拟出命名空间的效果;<ul><li>非成员函数不应依赖于外部变量, 应尽量置于某个命名空间内;</li><li>相比单纯为了封装若干不共享任何静态数据的静态成员函数而创建类,
不如使用
<a href=/###%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4>命名空间</a>;</li><li>如果必须定义非成员函数, 又只是在 <code>.cc</code> 文件中使用它,
可使用
<a href=/###%e5%8c%bf%e5%90%8d%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e5%92%8c%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f>匿名命名空间</a> 或 <code>static</code>
链接关键字(如 <code>static int Foo() {...}</code>)限定其作用域;</li></ul></li></ol><h3 id=局部变量>局部变量
<a class=anchor href=#%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f>#</a></h3><ol><li>在尽可能小的作用域中声明变量, 离第一次使用越近越好;<ul><li>使用初始化的方式替代声明再赋值，例如：<code>int j = g();</code>;</li></ul></li></ol><h3 id=静态和全局变量>静态和全局变量
<a class=anchor href=#%e9%9d%99%e6%80%81%e5%92%8c%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8f>#</a></h3><ol><li>禁止使用类的
<a href=https://zh.cppreference.com/w/cpp/language/storage_duration#.E5.AD.98.E5.82.A8.E6.9C.9F>静态储存周期</a>
变量，不过 <code>constexpr</code> 变量除外;<ul><li>全局变量，静态变量，静态类成员变量和函数静态变量，都必须是 POD
(原生数据类型)以及 POD 类型的指针、数组和结构体;</li><li>不允许用函数返回值来初始化 POD 变量，除非该函数（比如 &lsquo;&lsquo;getenv()&rsquo;
或 &lsquo;&lsquo;getpid()&rsquo; ）不涉及任何全局变量;</li><li>多线程中的全局变量 (含静态成员变量) 不要使用 class 类型 (含 STL
容器);</li></ul></li></ol><h2 id=类>类
<a class=anchor href=#%e7%b1%bb>#</a></h2><h3 id=构造函数的职责>构造函数的职责
<a class=anchor href=#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e7%9a%84%e8%81%8c%e8%b4%a3>#</a></h3><ol><li>不要在构造中调用虚函数;<ul><li>不要在无法报出错误时进行可能失败的初始化;</li><li>如果对象需要正确的初始化，可以考虑使用明确的 <code>Init()</code>
方法或者工厂模式;</li></ul></li></ol><h3 id=隐式类型转换>隐式类型转换
<a class=anchor href=#%e9%9a%90%e5%bc%8f%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2>#</a></h3><ol><li>类型转换运算符和单参数构造函数都应当用 <code>explicit</code> 进行标记;<ul><li>拷贝和移动构造函数是个例外, <strong>不应当被标记为</strong> <code>explicit</code>;</li><li>不能以一个参数进行调用的构造函数<strong>不应当加上</strong> <code>explicit</code>;</li><li>接受一个 <code>std::initializer_list</code> 作为参数的构造函数<strong>也应当省略</strong>
<code>explicit</code>, 以便支持拷贝初始化;</li></ul></li></ol><h3 id=可拷贝类型和可移动类型>可拷贝类型和可移动类型
<a class=anchor href=#%e5%8f%af%e6%8b%b7%e8%b4%9d%e7%b1%bb%e5%9e%8b%e5%92%8c%e5%8f%af%e7%a7%bb%e5%8a%a8%e7%b1%bb%e5%9e%8b>#</a></h3><ol><li><h2 id=如果类型的拷贝操作不是显而易见的就不要设置为可拷贝>如果类型的拷贝操作不是显而易见的，就不要设置为可拷贝;
<a class=anchor href=#%e5%a6%82%e6%9e%9c%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%8b%b7%e8%b4%9d%e6%93%8d%e4%bd%9c%e4%b8%8d%e6%98%af%e6%98%be%e8%80%8c%e6%98%93%e8%a7%81%e7%9a%84%e5%b0%b1%e4%b8%8d%e8%a6%81%e8%ae%be%e7%bd%ae%e4%b8%ba%e5%8f%af%e6%8b%b7%e8%b4%9d>#</a></h2>如果类型可拷贝，那么一定要同时给出拷贝构造函数和赋值操作的定义，反之亦然;<ul><li>如果让类型可拷贝, 同时移动操作的效率高于拷贝操作,
那么就把移动的两个操作 (移动构造函数和赋值操作) 也给出定义;</li><li>如果类型不可拷贝, 但是移动操作的正确性对用户显然可见,
那么把这个类型设置为只可移动并定义移动的两个操作;</li><li>如果定义了拷贝/移动操作, 则要保证这些操作的默认实现是正确的.
记得时刻检查默认操作的正确性,
并且在文档中说明类是可拷贝的且/或可移动的;</li><li>不要为任何有可能有派生类的对象提供赋值操作或者拷贝/移动构造函数
(当然也不要继承有这样的成员函数的类);</li><li>如果你的基类需要可复制属性, 请提供一个 public virtual Clone()
和一个 protected 的拷贝构造函数以供派生类实现;</li><li>如果你的类不需要拷贝 / 移动操作, 请显式地通过在 public 域中使用 =
delete 或其他手段禁用;</li></ul></li></ol><h3 id=结构体-vs-类>结构体 VS 类
<a class=anchor href=#%e7%bb%93%e6%9e%84%e4%bd%93-vs-%e7%b1%bb>#</a></h3><ol><li>只有数据成员时使用 <code>struct</code>:<ol><li>用来定义包含数据的被动式对象, 也可以包含相关的常量,
但除了存取数据成员之外, 没有别的函数功能.<ul><li>成员变量直接访问而不是函数调用.</li><li>除了构造函数, 析构函数, <code>Initialize()</code>, <code>Reset()</code>,
<code>Validate()</code> 等类似的用于设定数据成员的函数外,
不能提供其它功能的函数.</li><li>如果需要更多的函数功能, <code>class</code> 更适合. 如果拿不准, 就用
<code>class</code>.</li><li>除上述功能外其它的一概用 <code>class</code>;</li><li>为了和 STL 保持一致, 对于仿函数等特性可以不用 <code>class</code> 而是使用
<code>struct</code>;</li><li>注意类和结构体的成员变量使用不同的
<a href=/###%e5%8f%98%e9%87%8f%e5%91%bd%e5%90%8d>命名规则</a>;</li></ul></li></ol></li></ol><h3 id=继承>继承
<a class=anchor href=#%e7%bb%a7%e6%89%bf>#</a></h3><p>未完待续</p><h2 id=函数>函数
<a class=anchor href=#%e5%87%bd%e6%95%b0>#</a></h2><h3 id=参数顺序>参数顺序
<a class=anchor href=#%e5%8f%82%e6%95%b0%e9%a1%ba%e5%ba%8f>#</a></h3><ol><li>输入参数在前，输出参数在后;</li></ol><h3 id=编写简短的函数>编写简短的函数
<a class=anchor href=#%e7%bc%96%e5%86%99%e7%ae%80%e7%9f%ad%e7%9a%84%e5%87%bd%e6%95%b0>#</a></h3><ol><li>建议编写简短、凝练的函数（不硬性限制函数长度，但超过了 40
行，可以考虑下在<strong>不影响程序结构</strong>的前提下对其分割）;</li></ol><h3 id=引用参数>引用参数
<a class=anchor href=#%e5%bc%95%e7%94%a8%e5%8f%82%e6%95%b0>#</a></h3><ol><li>输入参数是值参或 <code>const</code> 引用, 输出参数为指针;</li></ol><h3 id=函数重载>函数重载
<a class=anchor href=#%e5%87%bd%e6%95%b0%e9%87%8d%e8%bd%bd>#</a></h3><ol><li>如果打算重载一个函数，可以试试在函数名中加上参数信息，例如：用
<code>AppendString()</code> 和 <code>AppendInt()</code> 等，而不是重载多个 <code>Append()</code>;<ul><li>当重载函数是为了支持相同类型不同数量的参数时，则优先考虑使用
<code>vector</code>;</li></ul></li></ol><h3 id=缺省参数>缺省参数
<a class=anchor href=#%e7%bc%ba%e7%9c%81%e5%8f%82%e6%95%b0>#</a></h3><ol><li><h2 id=虚函数不允许使用缺省参数>虚函数不允许使用缺省参数;
<a class=anchor href=#%e8%99%9a%e5%87%bd%e6%95%b0%e4%b8%8d%e5%85%81%e8%ae%b8%e4%bd%bf%e7%94%a8%e7%bc%ba%e7%9c%81%e5%8f%82%e6%95%b0>#</a></h2>也不允许每次调用缺省参数的值都不同的情况下使用缺省参数，例如：<code>void f(int n = counter+);</code></li></ol><h3 id=函数返回类型后置语法>函数返回类型后置语法
<a class=anchor href=#%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e7%b1%bb%e5%9e%8b%e5%90%8e%e7%bd%ae%e8%af%ad%e6%b3%95>#</a></h3><ol><li>只有在常规写法不方便时使用，例如 Lambda 表达式;</li></ol><h2 id=来自-google-的奇技>来自 Google 的奇技
<a class=anchor href=#%e6%9d%a5%e8%87%aa-google-%e7%9a%84%e5%a5%87%e6%8a%80>#</a></h2><h3 id=所有权与智能指针>所有权与智能指针
<a class=anchor href=#%e6%89%80%e6%9c%89%e6%9d%83%e4%b8%8e%e6%99%ba%e8%83%bd%e6%8c%87%e9%92%88>#</a></h3><ol><li>当你 new
了一块内存时尽量保证在释放前自已一直都持有这个内存的指针，当其他地方需要时传递过去指针或引用，再或者是使用
<code>std::unique_ptr</code>;<ul><li>尽量不要共享所有权，如果确实需要共享，建议使用
<code>std::shared_ptr</code>;</li><li>不要使用 <code>std::auto_ptr</code>, 推荐使用 <code>std::unique_ptr</code>;</li></ul></li></ol><h3 id=cpplint>Cpplint
<a class=anchor href=#cpplint>#</a></h3><ol><li><code>cpplint.py</code> 是一个用来分析源文件, 能检查出多种风格错误的工具;<ul><li>在行尾加 <code>// NOLINT</code>, 或在上一行加 <code>// NOLINTNEXTLINE</code>,
可以忽略报错;</li></ul></li></ol><h2 id=命名约定>命名约定
<a class=anchor href=#%e5%91%bd%e5%90%8d%e7%ba%a6%e5%ae%9a>#</a></h2><h3 id=通用命名规则>通用命名规则
<a class=anchor href=#%e9%80%9a%e7%94%a8%e5%91%bd%e5%90%8d%e8%a7%84%e5%88%99>#</a></h3><ol><li>尽可能使用描述性的命名，少用缩写（一些特定的广为人知的缩写是允许的，例如：用
<code>i</code> 表示迭代变量和用 <code>T</code> 表示模板参数）;<ul><li>根据经验，如果在 Wikipedia 中列出了的缩写，则它可以考虑被使用;</li></ul></li></ol><h3 id=文件名>文件名
<a class=anchor href=#%e6%96%87%e4%bb%b6%e5%90%8d>#</a></h3><ol><li>全部用小写，可以包含 <code>_</code> 或 <code>-</code>（更推荐 <code>_</code>）;</li><li>C++ 文件以 <code>.cc</code> 结尾，头文件以 <code>.h</code> 结尾，专门插入文本的文件以
<code>.inc</code> 结尾;<ul><li>不要使用与系统头文件相同的名字;</li><li>尽量让文件名更加明确，不要太笼统（例如：使用 <code>http_server_logs.h</code>
而不是 <code>logs.h</code>）;</li></ul></li></ol><h3 id=类型命名>类型命名
<a class=anchor href=#%e7%b1%bb%e5%9e%8b%e5%91%bd%e5%90%8d>#</a></h3><ol><li>类型名称的每个单词首字母均大写, 不包含下划线;</li></ol><h3 id=变量命名>变量命名
<a class=anchor href=#%e5%8f%98%e9%87%8f%e5%91%bd%e5%90%8d>#</a></h3><ol><li>变量 (包括函数参数) 和数据成员名一律小写, 单词之间用下划线连接;<ul><li>类的成员变量以下划线结尾, 但结构体的就不用;</li></ul></li></ol><h3 id=常量命名>常量命名
<a class=anchor href=#%e5%b8%b8%e9%87%8f%e5%91%bd%e5%90%8d>#</a></h3><ol><li>声明为 <code>constexpr</code> 或 <code>const</code> 的变量,
或在程序运行期间其值始终保持不变的, 命名时以 <code>k</code> 开头, 大小写混合;</li></ol><h3 id=函数命名>函数命名
<a class=anchor href=#%e5%87%bd%e6%95%b0%e5%91%bd%e5%90%8d>#</a></h3><ol><li>函数名的每个单词首字母大写 (即 “驼峰变量名” 或 “帕斯卡变量名”),
没有下划线;<ul><li>缩写也是将其视为一个单词进行首字母大写，而不是全大写;</li><li>取值和设值函数的命名与变量一致;</li></ul></li></ol><h3 id=名字空间命名>名字空间命名
<a class=anchor href=#%e5%90%8d%e5%ad%97%e7%a9%ba%e9%97%b4%e5%91%bd%e5%90%8d>#</a></h3><ol><li>命名空间以小写字母命名;<ul><li>最高级命名空间的名字取决于项目名称;</li><li>注意避免嵌套命名空间的名字之间和常见的顶级命名空间的名字之间发生冲突;</li></ul></li></ol><h3 id=枚举命名>枚举命名
<a class=anchor href=#%e6%9e%9a%e4%b8%be%e5%91%bd%e5%90%8d>#</a></h3><ol><li>成员的命名与
<a href=/###%e5%b8%b8%e9%87%8f%e5%91%bd%e5%90%8d>常量</a>或者
<a href=/###%e5%ae%8f%e5%91%bd%e5%90%8d>宏</a>一致;<ul><li>枚举类型的名字与
<a href=/###%e5%87%bd%e6%95%b0%e5%91%bd%e5%90%8d>函数命名</a>一致;</li></ul></li></ol><h3 id=宏命名>宏命名
<a class=anchor href=#%e5%ae%8f%e5%91%bd%e5%90%8d>#</a></h3><ol><li>不建议使用宏，但一定要用推荐使用全大写单词间以下划线分隔的方式来命名;</li></ol><h3 id=命名规则的特例>命名规则的特例
<a class=anchor href=#%e5%91%bd%e5%90%8d%e8%a7%84%e5%88%99%e7%9a%84%e7%89%b9%e4%be%8b>#</a></h3><ol><li>如果你命名的实体与已有 C/C++ 实体相似,
可参考
<a href=https://google-styleguide.readthedocs.io/zh_CN/latest/google-cpp-styleguide/naming.html#id15>现有命名策略</a>;</li></ol><h2 id=注释>注释
<a class=anchor href=#%e6%b3%a8%e9%87%8a>#</a></h2><h3 id=注释风格>注释风格
<a class=anchor href=#%e6%b3%a8%e9%87%8a%e9%a3%8e%e6%a0%bc>#</a></h3><ol><li>使用 <code>//</code> 或 <code>/* */</code>, 统一就好. 但 <code>//</code> 更常用.</li></ol><h3 id=文件注释>文件注释
<a class=anchor href=#%e6%96%87%e4%bb%b6%e6%b3%a8%e9%87%8a>#</a></h3><ol><li>不要在 <code>.h</code> 和 <code>.cc</code> 之间复制注释, 保留一份即可.</li></ol><h3 id=类注释>类注释
<a class=anchor href=#%e7%b1%bb%e6%b3%a8%e9%87%8a>#</a></h3><ol><li>每个类的定义都要附带一份注释, 描述类的功能和用法,
除非它的功能相当明显.<ul><li>描述类用法的注释应当和接口定义放在一起,
描述类的操作和实现的注释应当和实现放在一起.</li></ul></li></ol><h3 id=函数注释>函数注释
<a class=anchor href=#%e5%87%bd%e6%95%b0%e6%b3%a8%e9%87%8a>#</a></h3><ol><li>函数声明处的注释描述函数功能;<ul><li>函数的输入输出.</li><li>对类成员函数而言: 函数调用期间对象是否需要保持引用参数,
是否会释放这些参数.</li><li>函数是否分配了必须由调用者释放的空间.</li><li>参数是否可以为空指针.</li><li>是否存在函数使用上的性能隐患.</li><li>如果函数是可重入的, 其同步前提是什么?</li><li>定义处的注释描述函数实现.</li><li>如果函数的实现过程中用到了很巧妙的方式,
那么在函数定义处应当加上解释性的注释, 例如, 使用的编程技巧,
实现的大致步骤, 或解释如此实现的理由.</li><li>不要从 <code>.h</code> 文件或其他地方的函数声明处直接复制注释,
简要重述函数功能是可以的, 但重点要放在如何实现上.</li></ul></li></ol><h3 id=变量注释>变量注释
<a class=anchor href=#%e5%8f%98%e9%87%8f%e6%b3%a8%e9%87%8a>#</a></h3><ol><li>当变量名和类型不能够用明确表达作用, 则应当加上注释(例如特殊值,
数据成员之间的关系, 生命周期等);<ul><li>如果变量可以接受 <code>NULL</code> 或 <code>-1</code> 等警戒值, 须加以说明;</li></ul></li></ol><h3 id=实现注释>实现注释
<a class=anchor href=#%e5%ae%9e%e7%8e%b0%e6%b3%a8%e9%87%8a>#</a></h3><ol><li>巧妙或复杂的代码段前要加注释;<ul><li>比较隐晦的地方要在行尾加入注释. 在行尾空两格进行注释;</li><li>对齐连续多行的注释;</li><li>如果函数参数的意义不明显, 考虑用下面的方式进行弥补:</li><li>如果参数是一个字面常量, 并且这一常量在多处函数调用中被使用,
用以推断它们一致, 你应当用一个常量名让这一约定变得更明显,
并且保证这一约定不会被打破.</li><li>考虑更改函数的签名, 让某个 <code>bool</code> 类型的参数变为 <code>enum</code> 类型,
这样可以让这个参数的值表达其意义.</li><li>如果某个函数有多个配置选项,
你可以考虑定义一个类或结构体以保存所有的选项,
并传入类或结构体的实例. 这样的方法有许多优点,
例如这样的选项可以在调用处用变量名引用, 这样就能清晰地表明其意义.
同时也减少了函数参数的数量, 使得函数调用更易读也易写. 除此之外,
以这样的方式, 如果你使用其他的选项, 就无需对调用点进行更改.</li><li>用具名变量代替大段而复杂的嵌套表达式.</li><li>万不得已时, 才考虑在调用点用注释阐明参数的意义.</li><li>不要描述显而易见的现象;</li></ul></li></ol><h3 id=标点-拼写和语法>标点, 拼写和语法
<a class=anchor href=#%e6%a0%87%e7%82%b9-%e6%8b%bc%e5%86%99%e5%92%8c%e8%af%ad%e6%b3%95>#</a></h3><ol><li>注意标点, 拼写和语法;</li></ol><h3 id=todo-注释>TODO 注释
<a class=anchor href=#todo-%e6%b3%a8%e9%87%8a>#</a></h3><ol><li><code>TODO</code> 注释要使用全大写的字符串, 在随后的圆括号里写上你的名字,
邮件地址, bug ID 或其它身份标识和这一 <code>TODO</code> 相关的 issue;<ul><li>如果加 TODO 是为了在 “将来某一天做某事”,
可以附上一个非常明确的时间;</li></ul></li></ol><h3 id=弃用注释>弃用注释
<a class=anchor href=#%e5%bc%83%e7%94%a8%e6%b3%a8%e9%87%8a>#</a></h3><ol><li>可以写上包含全大写的 <code>DEPRECATED</code> 的注释, 以标记某接口为弃用状态.
注释可以放在接口声明前, 或者同一行;<ul><li>仅仅标记接口为 <code>DEPRECATED</code> 并不会让大家不约而同地弃用,
您还得亲自主动修正调用点;<br>===== 格式 =====</li></ul></li></ol><h3 id=行长度>行长度
<a class=anchor href=#%e8%a1%8c%e9%95%bf%e5%ba%a6>#</a></h3><ol><li>每一行代码字符数不超过 80;<ul><li>包含长路径的 <code>#include</code> 语句可以超出80列;</li><li>头文件卫士无视该原则;</li></ul></li></ol><h3 id=非-ascii-字符>非 ASCII 字符
<a class=anchor href=#%e9%9d%9e-ascii-%e5%ad%97%e7%ac%a6>#</a></h3><ol><li>尽量不使用非 ASCII 字符, 使用时必须使用 UTF-8 编码;</li></ol><h3 id=空格还是制表位>空格还是制表位
<a class=anchor href=#%e7%a9%ba%e6%a0%bc%e8%bf%98%e6%98%af%e5%88%b6%e8%a1%a8%e4%bd%8d>#</a></h3><ol><li>只使用空格, 每次缩进 2 个空格;<ul><li>设置编辑器将制表符转为空格;</li></ul></li></ol><h3 id=函数声明与定义>函数声明与定义
<a class=anchor href=#%e5%87%bd%e6%95%b0%e5%a3%b0%e6%98%8e%e4%b8%8e%e5%ae%9a%e4%b9%89>#</a></h3><ol><li>返回类型和函数名在同一行;<ul><li>参数尽量放在同一行, 如果放不下就对形参分行, 分行方式与
<a href=/###%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8>函数调用</a> 一致;</li><li>使用好的参数名.</li><li>只有在参数未被使用或者其用途非常明显时, 才能省略参数名.</li><li>如果返回类型和函数名在一行放不下, 分行.</li><li>如果返回类型与函数声明或定义分行了, 不要缩进.</li><li>左圆括号总是和函数名在同一行.</li><li>函数名和左圆括号间永远没有空格.</li><li>圆括号与参数间没有空格.</li><li>左大括号总在最后一个参数同一行的末尾处, 不另起新行.</li><li>右大括号总是单独位于函数最后一行, 或者与左大括号同一行.</li><li>右圆括号和左大括号间总是有一个空格.</li><li>所有形参应尽可能对齐.</li><li>缺省缩进为 2 个空格.</li><li>换行后的参数保持 4 个空格的缩进.</li><li>未被使用的参数如果其用途不明显的话,
在函数定义处将参数名注释起来;</li><li>属性, 和展开为属性的宏, 写在函数声明或定义的最前面,
即返回类型之前;</li></ul></li></ol><h3 id=lambda-表达式>Lambda 表达式
<a class=anchor href=#lambda-%e8%a1%a8%e8%be%be%e5%bc%8f>#</a></h3><ol><li>对形参和函数体的格式化和其他函数一致; 捕获列表同理,
表项用逗号隔开;</li></ol><h3 id=函数调用>函数调用
<a class=anchor href=#%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8>#</a></h3><ol><li><h2 id=比如把多个参数适当地放在同一行里>要么一行写完函数调用, 要么在圆括号里对参数分行,
要么参数另起一行且缩进四格. 如果没有其它顾虑的话, 尽可能精简行数,
比如把多个参数适当地放在同一行里;
<a class=anchor href=#%e6%af%94%e5%a6%82%e6%8a%8a%e5%a4%9a%e4%b8%aa%e5%8f%82%e6%95%b0%e9%80%82%e5%bd%93%e5%9c%b0%e6%94%be%e5%9c%a8%e5%90%8c%e4%b8%80%e8%a1%8c%e9%87%8c>#</a></h2>如果参数本身是略复杂的表达式，且降低了可读性，那么可以直接创建临时变量描述该表达式并传递给函数;<ul><li>如果参数本身就有一定的结构, 可以酌情地按其结构来决定参数格式;</li></ul></li></ol><h3 id=列表初始化格式>列表初始化格式
<a class=anchor href=#%e5%88%97%e8%a1%a8%e5%88%9d%e5%a7%8b%e5%8c%96%e6%a0%bc%e5%bc%8f>#</a></h3><ol><li>平时怎么格式化函数调用, 就怎么格式化
<a href=/###%e5%88%97%e8%a1%a8%e5%88%9d%e5%a7%8b%e5%8c%96>列表初始化</a>.</li></ol><h3 id=条件语句>条件语句
<a class=anchor href=#%e6%9d%a1%e4%bb%b6%e8%af%ad%e5%8f%a5>#</a></h3><ol><li>关键字 <code>if</code> 和 <code>else</code> 另起一行, <code>else</code> 与 <code>if</code> 的 <code>}</code> 同一行;<ul><li><code>if</code> 和 <code>(</code> 间都有个空格, <code>)</code> 和 <code>{</code> 之间也要有个空格;</li><li>简短的条件语句允许写在同一行，当存在 <code>else</code> 分支时则不允许;</li><li>当语句中某个 <code>if-else</code> 分支使用了大括号时, 其它分支也必须使用;</li></ul></li></ol><h3 id=循环和开关选择语句>循环和开关选择语句
<a class=anchor href=#%e5%be%aa%e7%8e%af%e5%92%8c%e5%bc%80%e5%85%b3%e9%80%89%e6%8b%a9%e8%af%ad%e5%8f%a5>#</a></h3><ol><li><code>switch</code> 应该总是包含一个 <code>default</code> 匹配, 如果 <code>default</code>
应该永远执行不到, 简单的加条 <code>assert</code>;</li><li>空循环体应使用 <code>{}</code> 或 <code>continue</code>, 而不是一个简单的分号;</li></ol><h3 id=指针和引用表达式>指针和引用表达式
<a class=anchor href=#%e6%8c%87%e9%92%88%e5%92%8c%e5%bc%95%e7%94%a8%e8%a1%a8%e8%be%be%e5%bc%8f>#</a></h3><ol><li>在访问成员时, 句点或箭头前后没有空格;<ul><li>指针操作符 <code>*</code> 或 <code>&</code> 后没有空格;</li></ul></li></ol><h3 id=布尔表达式>布尔表达式
<a class=anchor href=#%e5%b8%83%e5%b0%94%e8%a1%a8%e8%be%be%e5%bc%8f>#</a></h3><ol><li>断行时逻辑操作符(<code>&&</code>, <code>||</code>)总位于行尾;</li></ol><h3 id=函数返回值>函数返回值
<a class=anchor href=#%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc>#</a></h3><ol><li>不要在 <code>return</code>
表达式里加上非必须的圆括号(类似<code>return (value)</code>这种形式);<ul><li>可以用圆括号把复杂表达式圈起来, 改善可读性;</li></ul></li></ol><h3 id=变量及数组初始化>变量及数组初始化
<a class=anchor href=#%e5%8f%98%e9%87%8f%e5%8f%8a%e6%95%b0%e7%bb%84%e5%88%9d%e5%a7%8b%e5%8c%96>#</a></h3><ol><li>用 <code>=</code>, <code>()</code> 和 <code>{}</code> 均可;<ul><li>列表初始化(<code>{}</code>)不允许整型类型的四舍五入;</li></ul></li></ol><h3 id=预处理指令>预处理指令
<a class=anchor href=#%e9%a2%84%e5%a4%84%e7%90%86%e6%8c%87%e4%bb%a4>#</a></h3><ol><li>预处理指令不要缩进, 从行首开始, 即使位于缩进代码块中,
也应从行首开始;</li></ol><h3 id=类格式>类格式
<a class=anchor href=#%e7%b1%bb%e6%a0%bc%e5%bc%8f>#</a></h3><ol><li>访问控制块的声明依次序是 <code>public:</code>, <code>protected:</code>, <code>private:</code>,
每个都缩进 1 个空格;<ul><li>所有基类名应在 80 列限制下尽量与子类名放在同一行;</li><li>除第一个关键词 (一般是 public) 外,
其他关键词前要空一行,这些关键词后不要保留空行..
如果类比较小的话也可以不空</li></ul></li></ol><h3 id=构造函数初始值列表>构造函数初始值列表
<a class=anchor href=#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%88%9d%e5%a7%8b%e5%80%bc%e5%88%97%e8%a1%a8>#</a></h3><ol><li>构造函数初始化列表放在同一行或按四格缩进并排多行;<ul><li>如果不能放在同一行, 必须置于冒号后, 并缩进 4 个空格.</li><li>如果初始化列表需要置于多行,
将每一个成员放在单独的一行并逐行对齐.</li><li><code>}</code> 可以和 <code>{</code> 放在同一行, 如果这样做合适的话.</li></ul></li></ol><h3 id=命名空间格式化>命名空间格式化
<a class=anchor href=#%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4%e6%a0%bc%e5%bc%8f%e5%8c%96>#</a></h3><ol><li>命名空间内容不要增加额外的缩进层次;<ul><li>声明嵌套命名空间时, 每个命名空间都独立成行;</li></ul></li></ol><h3 id=水平留白>水平留白
<a class=anchor href=#%e6%b0%b4%e5%b9%b3%e7%95%99%e7%99%bd>#</a></h3><h4 id=通用>通用
<a class=anchor href=#%e9%80%9a%e7%94%a8>#</a></h4><ol><li><code>{</code> 前总是有空格.<ul><li><code>;</code> 前不加空格.</li><li>继承与初始化列表中的 <code>:</code> 前后恒有空格.</li><li>对于单行函数的实现, 在大括号内加上空格, 即
<code>int fun(int v) { return v; }</code>.</li><li>函数的 <code>{}</code> 里面是空的话, 不加空格.</li><li><code>(</code> 的后面和 <code>)</code> 的前面都不加空格.</li></ul></li></ol><h4 id=循环和条件语句>循环和条件语句
<a class=anchor href=#%e5%be%aa%e7%8e%af%e5%92%8c%e6%9d%a1%e4%bb%b6%e8%af%ad%e5%8f%a5>#</a></h4><ol><li><code>if</code> 条件语句和循环语句关键字后均有空格.<ul><li><code>else</code> 前后都有空格.</li><li><code>for</code> 循环里 <code>;</code> 后有空格.</li><li><code>switch case</code> 的 <code>:</code> 前无空格, 如果 <code>:</code> 后面有代码, 则 <code>:</code>
后面加个空格.</li></ul></li></ol><h4 id=操作符>操作符
<a class=anchor href=#%e6%93%8d%e4%bd%9c%e7%ac%a6>#</a></h4><ol><li>赋值运算符前后总是有空格.<ul><li>其它二元操作符也前后总有空格, 不过对于表达式的子式可以不加空格.</li><li>在参数和一元操作符之间不加空格.</li></ul></li></ol><h4 id=模板和转换>模板和转换
<a class=anchor href=#%e6%a8%a1%e6%9d%bf%e5%92%8c%e8%bd%ac%e6%8d%a2>#</a></h4><ol><li><code>&lt; ></code>(尖括号) 不与空格紧邻, <code>&lt;</code> 前没有空格, <code>></code> 和 <code>(</code> 之间也没有.</li></ol><h3 id=垂直留白>垂直留白
<a class=anchor href=#%e5%9e%82%e7%9b%b4%e7%95%99%e7%99%bd>#</a></h3><ol><li>两个函数定义之间的空行不要超过 2 行;<ul><li>函数体首尾不要留空行;</li><li>函数体中也不要随意添加空行;</li><li>在多重 <code>if-else</code> 块里加空行<strong>或许</strong>有点可读性;</li></ul></li></ol><h2 id=规则特例>规则特例
<a class=anchor href=#%e8%a7%84%e5%88%99%e7%89%b9%e4%be%8b>#</a></h2><h3 id=现有不合规范的代码>现有不合规范的代码
<a class=anchor href=#%e7%8e%b0%e6%9c%89%e4%b8%8d%e5%90%88%e8%a7%84%e8%8c%83%e7%9a%84%e4%bb%a3%e7%a0%81>#</a></h3><ol><li>对于现有不符合既定编程风格的代码，优先与代码原有风格保持一致;</li></ol><h3 id=windows-代码>Windows 代码
<a class=anchor href=#windows-%e4%bb%a3%e7%a0%81>#</a></h3><p>这一部分可以参考指南的原文档。</p><h1 id=参考资料>参考资料
<a class=anchor href=#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99>#</a></h1><p><a href=https://google.github.io/styleguide/cppguide.html#Header_Files>Google C++ Style
Guide</a><br><a href=https://google-styleguide.readthedocs.io/zh_CN/latest/google-cpp-styleguide/scoping.html>Google
开源项目风格指南(中文版)</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/coderqs/notes/tree/master/content.zh/%e8%ae%a1%e7%ae%97%e6%9c%ba%e8%af%ad%e8%a8%80/%e6%8a%80%e6%9c%af%e5%bd%92%e7%ba%b3/%e7%bc%96%e7%a0%81%e8%a7%84%e5%88%99/cpp%e7%bc%96%e7%a0%81%e9%a3%8e%e6%a0%bc.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>编辑本页</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#c-编码风格>C++ 编码风格</a><ul><li><a href=#头文件>头文件</a><ul><li><a href=#self-contained-头文件>Self-contained 头文件</a></li><li><a href=#define-保护>#define 保护</a></li><li><a href=#前置声明>前置声明</a></li><li><a href=#内联函数>内联函数</a></li><li><a href=#include-的路径及顺序>#include 的路径及顺序</a></li></ul></li><li><a href=#作用域>作用域</a><ul><li><a href=#命名空间>命名空间</a></li><li><a href=#匿名命名空间和静态变量>匿名命名空间和静态变量</a></li><li><a href=#非成员函数静态成员函数和全局函数>非成员函数、静态成员函数和全局函数</a></li></ul></li><li><a href=#尽量不要用裸的全局函数使用静态成员函数或命名空间内的非成员函数>尽量不要用裸的全局函数，使用静态成员函数或命名空间内的非成员函数;</a><ul><li><a href=#局部变量>局部变量</a></li><li><a href=#静态和全局变量>静态和全局变量</a></li></ul></li><li><a href=#类>类</a><ul><li><a href=#构造函数的职责>构造函数的职责</a></li><li><a href=#隐式类型转换>隐式类型转换</a></li><li><a href=#可拷贝类型和可移动类型>可拷贝类型和可移动类型</a></li></ul></li><li><a href=#如果类型的拷贝操作不是显而易见的就不要设置为可拷贝>如果类型的拷贝操作不是显而易见的，就不要设置为可拷贝;</a><ul><li><a href=#结构体-vs-类>结构体 VS 类</a></li><li><a href=#继承>继承</a></li></ul></li><li><a href=#函数>函数</a><ul><li><a href=#参数顺序>参数顺序</a></li><li><a href=#编写简短的函数>编写简短的函数</a></li><li><a href=#引用参数>引用参数</a></li><li><a href=#函数重载>函数重载</a></li><li><a href=#缺省参数>缺省参数</a></li></ul></li><li><a href=#虚函数不允许使用缺省参数>虚函数不允许使用缺省参数;</a><ul><li><a href=#函数返回类型后置语法>函数返回类型后置语法</a></li></ul></li><li><a href=#来自-google-的奇技>来自 Google 的奇技</a><ul><li><a href=#所有权与智能指针>所有权与智能指针</a></li><li><a href=#cpplint>Cpplint</a></li></ul></li><li><a href=#命名约定>命名约定</a><ul><li><a href=#通用命名规则>通用命名规则</a></li><li><a href=#文件名>文件名</a></li><li><a href=#类型命名>类型命名</a></li><li><a href=#变量命名>变量命名</a></li><li><a href=#常量命名>常量命名</a></li><li><a href=#函数命名>函数命名</a></li><li><a href=#名字空间命名>名字空间命名</a></li><li><a href=#枚举命名>枚举命名</a></li><li><a href=#宏命名>宏命名</a></li><li><a href=#命名规则的特例>命名规则的特例</a></li></ul></li><li><a href=#注释>注释</a><ul><li><a href=#注释风格>注释风格</a></li><li><a href=#文件注释>文件注释</a></li><li><a href=#类注释>类注释</a></li><li><a href=#函数注释>函数注释</a></li><li><a href=#变量注释>变量注释</a></li><li><a href=#实现注释>实现注释</a></li><li><a href=#标点-拼写和语法>标点, 拼写和语法</a></li><li><a href=#todo-注释>TODO 注释</a></li><li><a href=#弃用注释>弃用注释</a></li><li><a href=#行长度>行长度</a></li><li><a href=#非-ascii-字符>非 ASCII 字符</a></li><li><a href=#空格还是制表位>空格还是制表位</a></li><li><a href=#函数声明与定义>函数声明与定义</a></li><li><a href=#lambda-表达式>Lambda 表达式</a></li><li><a href=#函数调用>函数调用</a></li></ul></li><li><a href=#比如把多个参数适当地放在同一行里>要么一行写完函数调用, 要么在圆括号里对参数分行,
要么参数另起一行且缩进四格. 如果没有其它顾虑的话, 尽可能精简行数,
比如把多个参数适当地放在同一行里;</a><ul><li><a href=#列表初始化格式>列表初始化格式</a></li><li><a href=#条件语句>条件语句</a></li><li><a href=#循环和开关选择语句>循环和开关选择语句</a></li><li><a href=#指针和引用表达式>指针和引用表达式</a></li><li><a href=#布尔表达式>布尔表达式</a></li><li><a href=#函数返回值>函数返回值</a></li><li><a href=#变量及数组初始化>变量及数组初始化</a></li><li><a href=#预处理指令>预处理指令</a></li><li><a href=#类格式>类格式</a></li><li><a href=#构造函数初始值列表>构造函数初始值列表</a></li><li><a href=#命名空间格式化>命名空间格式化</a></li><li><a href=#水平留白>水平留白</a></li><li><a href=#垂直留白>垂直留白</a></li></ul></li><li><a href=#规则特例>规则特例</a><ul><li><a href=#现有不合规范的代码>现有不合规范的代码</a></li><li><a href=#windows-代码>Windows 代码</a></li></ul></li></ul></li><li><a href=#参考资料>参考资料</a></li></ul></nav></div></aside></main></body></html>